<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>–í—Ö—ñ–¥ | –ú–µ–¥–∏—á–Ω–∞ –°–∏—Å—Ç–µ–º–∞</title>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background-color: #f4f4f4; /* –°–≤—ñ—Ç–ª–æ-—Å—ñ—Ä–∏–π —Ñ–æ–Ω, —â–æ–± –≤–∏–¥—ñ–ª–∏—Ç–∏ –±—ñ–ª—É –∫–∞—Ä—Ç–∫—É */
            background-image: radial-gradient(#e0e0e0 1px, transparent 1px);
            background-size: 20px 20px;
            height: 100vh; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            margin: 0; 
            color: #333;
        }

        .card { 
            background: white; 
            padding: 40px; 
            border-radius: 8px; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); 
            width: 420px; 
            text-align: center; 
            border-top: 5px solid #d32f2f; 
        }

        h1 { 
            margin-bottom: 25px; 
            color: #d32f2f; 
            font-size: 24px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* –í–ö–õ–ê–î–ö–ò */
        .tabs { display: flex; justify-content: space-around; margin-bottom: 25px; border-bottom: 2px solid #eee; }
        .tab-btn { 
            background: none; 
            border: none; 
            padding: 12px; 
            cursor: pointer; 
            font-size: 16px; 
            color: #777; 
            width: 50%; 
            font-weight: 500;
            transition: all 0.3s;
        }
        .tab-btn:hover { color: #d32f2f; background-color: #fffafa; }
        .tab-btn.active { 
            color: #d32f2f; 
            border-bottom: 3px solid #d32f2f; 
            font-weight: bold; 
        }
        
        /* –ü–û–õ–Ø –í–í–û–î–£ */
        input, select { 
            width: 100%; 
            padding: 12px; 
            margin: 10px 0; 
            border: 1px solid #ccc; 
            border-radius: 4px; 
            box-sizing: border-box; 
            font-size: 16px; 
        }
        input:focus { border-color: #d32f2f; outline: none; }

        /* –ö–ù–û–ü–ö–ò */
        .btn { 
            width: 100%; 
            padding: 14px; 
            margin-top: 15px; 
            border: none; 
            border-radius: 4px; 
            color: white; 
            font-size: 16px; 
            font-weight: bold; 
            cursor: pointer; 
            transition: background 0.2s;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }
        
        .btn-primary { background-color: #d32f2f; }
        .btn-primary:hover { background-color: #b71c1c; }
        
        /* –ü–û–°–ò–õ–ê–ù–ù–Ø */
        .toggle-link { 
            color: #555; 
            cursor: pointer; 
            margin-top: 20px; 
            display: block; 
            font-size: 14px; 
        }
        .toggle-link span { color: #d32f2f; text-decoration: underline; font-weight: bold; }
        
        .error { 
            color: #d32f2f; 
            background: #ffebee; 
            padding: 12px; 
            border-radius: 4px; 
            margin-bottom: 15px; 
            border-left: 4px solid #d32f2f;
            text-align: left;
            font-size: 14px;
        }

        .icon { font-size: 1.2em; }
    </style>
    
    <script>
        function showRole(role) {
            document.getElementById('doctor-panel').style.display = (role === 'doctor') ? 'block' : 'none';
            document.getElementById('patient-panel').style.display = (role === 'patient') ? 'block' : 'none';
            document.getElementById('tab-doc').classList.toggle('active', role === 'doctor');
            document.getElementById('tab-pat').classList.toggle('active', role === 'patient');
        }

        function toggleAuth(role, mode) {
            let formLogin = document.getElementById(role + '-login');
            let formRegister = document.getElementById(role + '-register');
            let link = document.getElementById(role + '-link');

            if (mode === 'register') {
                formLogin.style.display = 'none';
                formRegister.style.display = 'block';
                link.innerHTML = "–í–∂–µ –º–∞—î—Ç–µ –∞–∫–∞—É–Ω—Ç? <span onclick=\"toggleAuth('" + role + "', 'login')\">–£–≤—ñ–π—Ç–∏</span>";
            } else {
                formLogin.style.display = 'block';
                formRegister.style.display = 'none';
                link.innerHTML = "–ù–µ–º–∞—î –∞–∫–∞—É–Ω—Ç—É? <span onclick=\"toggleAuth('" + role + "', 'register')\">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</span>";
            }
        }
    </script>
</head>
<body>
    <div class="card">
        <h1>üè• –ú–µ–¥–∏—á–Ω–∞ –°–∏—Å—Ç–µ–º–∞</h1>

        {% if error %}
        <div class="error">‚ö†Ô∏è {{ error }}</div>
        {% endif %}

        <div class="tabs">
            <button id="tab-doc" class="tab-btn active" onclick="showRole('doctor')">üë®‚Äç‚öïÔ∏è –õ—ñ–∫–∞—Ä</button>
            <button id="tab-pat" class="tab-btn" onclick="showRole('patient')">üë§ –ü–∞—Ü—ñ—î–Ω—Ç</button>
        </div>

        <div id="doctor-panel">
            <div id="doctor-login">
                <form action="/" method="POST">
                    <input type="hidden" name="role" value="doctor">
                    <input type="hidden" name="action" value="login">
                    <input type="text" name="name" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ —Ç–∞ –Ü–º'—è" required>
                    <input type="password" name="password" placeholder="–ü–∞—Ä–æ–ª—å (4 —Ü–∏—Ñ—Ä–∏)" required maxlength="4">
                    <button type="submit" class="btn btn-primary">–£–≤—ñ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É <span class="icon">‚ûú</span></button>
                </form>
            </div>

            <div id="doctor-register" style="display:none;">
                <form action="/" method="POST">
                    <input type="hidden" name="role" value="doctor">
                    <input type="hidden" name="action" value="register">
                    <input type="text" name="name" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ —Ç–∞ –Ü–º'—è (–Ω–∞–ø—Ä. –ü–µ—Ç—Ä–µ–Ω–∫–æ –Ü–≤–∞–Ω)" required>
                    <input type="text" name="spec" placeholder="–°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ—Å—Ç—å" required>
                    <select name="shift">
                        <option value="1">–ó–º—ñ–Ω–∞ 1 (08:00 - 14:00)</option>
                        <option value="2">–ó–º—ñ–Ω–∞ 2 (14:00 - 20:00)</option>
                    </select>
                    <input type="password" name="password" placeholder="–°—Ç–≤–æ—Ä—ñ—Ç—å –ø–∞—Ä–æ–ª—å (4 —Ü–∏—Ñ—Ä–∏)" required maxlength="4" pattern="\d{4}" title="4 —Ü–∏—Ñ—Ä–∏">
                    <input type="password" name="confirm_password" placeholder="–ü–æ–≤—Ç–æ—Ä—ñ—Ç—å –ø–∞—Ä–æ–ª—å" required>
                    
                    <button type="submit" class="btn btn-primary">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è <span class="icon">‚úÖ</span></button>
                </form>
            </div>
            
            <div class="toggle-link" id="doctor-link">
                –ù–µ–º–∞—î –∞–∫–∞—É–Ω—Ç—É? <span onclick="toggleAuth('doctor', 'register')">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</span>
            </div>
        </div>

        <div id="patient-panel" style="display:none;">
            <div id="patient-login">
                <form action="/" method="POST">
                    <input type="hidden" name="role" value="patient">
                    <input type="hidden" name="action" value="login">
                    <input type="text" name="name" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ —Ç–∞ –Ü–º'—è" required>
                    <input type="password" name="password" placeholder="–ü–∞—Ä–æ–ª—å (4 —Ü–∏—Ñ—Ä–∏)" required maxlength="4">
                    <button type="submit" class="btn btn-primary">–£–≤—ñ–π—Ç–∏ –≤ –∫–∞–±—ñ–Ω–µ—Ç <span class="icon">‚ûú</span></button>
                </form>
            </div>

            <div id="patient-register" style="display:none;">
                <form action="/" method="POST">
                    <input type="hidden" name="role" value="patient">
                    <input type="hidden" name="action" value="register">
                    <input type="text" name="name" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ —Ç–∞ –Ü–º'—è (–Ω–∞–ø—Ä. –ö–æ–≤–∞–ª—å –ê–Ω–Ω–∞)" required>
                    <input type="password" name="password" placeholder="–°—Ç–≤–æ—Ä—ñ—Ç—å –ø–∞—Ä–æ–ª—å (4 —Ü–∏—Ñ—Ä–∏)" required maxlength="4" pattern="\d{4}" title="4 —Ü–∏—Ñ—Ä–∏">
                    <input type="password" name="confirm_password" placeholder="–ü–æ–≤—Ç–æ—Ä—ñ—Ç—å –ø–∞—Ä–æ–ª—å" required>
                    
                    <button type="submit" class="btn btn-primary">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–∞—Ä—Ç–∫—É <span class="icon">‚úÖ</span></button>
                </form>
            </div>
            
            <div class="toggle-link" id="patient-link">
                –í–ø–µ—Ä—à–µ —Ç—É—Ç? <span onclick="toggleAuth('patient', 'register')">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–∞—Ä—Ç–∫—É</span>
            </div>
        </div>

    </div>
</body>
</html>